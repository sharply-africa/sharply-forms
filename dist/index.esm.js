import e from"react";import{Stack as r,FormGroup as n,Label as t,Input as l,FormError as a,TagsInput as i,Checkbox as o,Textarea as m,Switch as s,Select as d,Radio as c,Button as u,Card as p,Text as E}from"skylos-ui";import{useForm as v,Controller as h}from"react-hook-form";import{yupResolver as g}from"@hookform/resolvers/yup";import*as b from"yup";var f=b.object().shape({password:b.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:b.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([b.ref("password"),null],"Password and confirm password must match")}),y=b.object().shape({username:b.string().required("Email address or phone number is required"),password:b.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:b.boolean().required()});function w(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function N(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function S(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?N(Object(n),!0).forEach((function(r){w(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var F=function(e){var r=e.isAdmin,n=e.requiredSender;return b.object().shape(S({allowDescription:b.boolean(),chargeRecipient:b.boolean(),customer:b.string(),description:b.string(),items:b.array().min(1,"Please enter at least one item").required("Item(s) are required"),recipient:b.object().shape({address:b.string().required("Address is required"),email:b.string().email("Email is invalid"),name:b.string().required("Name is required"),phoneNumber:b.string().required("Phone number is required")}),sender:b.object().shape(S({address:b.string().required("Address is required"),email:b.string().email("Email is invalid")},n?{name:b.string().required("Name is required"),phoneNumber:b.string().required("Phone number is required")}:{name:b.string(),phoneNumber:b.string()}))},r?{deliveryFee:b.string().required("Delivery amount is required"),rider:b.string().required("Please select rider")}:{}))},P=function(p){var E,b,f,y,w,N,S,P,q,T,R,C,A,x,D,O,k,j,L,I=p.buttonText,V=p.isLoading,M=p.onSubmit,U=p.riders,G=p.schema,Y=v({resolver:g(G||F({isAdmin:!0,requiredSender:!0})),defaultValues:{allowDescription:!1,chargeRecipient:!1,customer:"sender",items:[],rider:""}}),K=Y.register,z=Y.handleSubmit,B=Y.errors,H=Y.control,J=(0,Y.watch)("allowDescription");return e.createElement(r,{as:"form",spacing:6,onSubmit:z(M)},e.createElement(n,null,e.createElement(t,{htmlFor:"sender.name"},"Senders Name"),e.createElement(l,{id:"sender.name",name:"sender.name",placeholder:"Type name",ref:K}),e.createElement(a,{error:null==B||null===(E=B.sender)||void 0===E||null===(b=E.name)||void 0===b?void 0:b.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.phoneNumber"},"Senders number"),e.createElement(l,{id:"sender.phoneNumber",name:"sender.phoneNumber",placeholder:"+234",ref:K}),e.createElement(a,{error:null==B||null===(f=B.sender)||void 0===f||null===(y=f.phoneNumber)||void 0===y?void 0:y.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.email"},"Senders Email"),e.createElement(l,{id:"sender.email",name:"sender.email",placeholder:"Type Email Address (Optional)",ref:K}),e.createElement(a,{error:null==B||null===(w=B.sender)||void 0===w||null===(N=w.email)||void 0===N?void 0:N.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.address"},"Pick Up Address"),e.createElement(l,{id:"sender.address",name:"sender.address",placeholder:"Type Address",ref:K}),e.createElement(a,{error:null==B||null===(S=B.sender)||void 0===S||null===(P=S.address)||void 0===P?void 0:P.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.address"},"Receiver Address"),e.createElement(l,{id:"recipient.address",name:"recipient.address",placeholder:"Type Address",ref:K}),e.createElement(a,{error:null==B||null===(q=B.recipient)||void 0===q||null===(T=q.address)||void 0===T?void 0:T.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"items"},"Item(s)"),e.createElement(h,{control:H,name:"items",render:function(r){var n=r.onChange,t=r.value;return e.createElement(i,{inputProps:{placeholder:"Type and press enter"},value:t,onChange:n})}}),e.createElement(a,{error:null==B||null===(R=B.items)||void 0===R?void 0:R.message})),e.createElement(n,null,e.createElement(h,{control:H,name:"allowDescription",render:function(r){var n=r.onChange,t=r.value;return e.createElement(o,{active:t,onChange:n,title:"Allow Description"})}})),J?e.createElement(n,null,e.createElement(t,{htmlFor:"description"},"Description"),e.createElement(m,{id:"description",name:"description",placeholder:"Type Name",ref:K,required:!0}),e.createElement(a,{error:null==B||null===(C=B.description)||void 0===C?void 0:C.message})):null,e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.name"},"Receiver Name"),e.createElement(l,{id:"recipient.name",name:"recipient.name",placeholder:"Type Name",ref:K}),e.createElement(a,{error:null==B||null===(A=B.recipient)||void 0===A||null===(x=A.name)||void 0===x?void 0:x.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.phoneNumber"},"Receiver Number"),e.createElement(l,{id:"recipient.phoneNumber",name:"recipient.phoneNumber",placeholder:"+234",ref:K}),e.createElement(a,{error:null==B||null===(D=B.recipient)||void 0===D||null===(O=D.phoneNumber)||void 0===O?void 0:O.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"deliveryFee"},"Delivery Amount"),e.createElement(l,{id:"deliveryFee",name:"deliveryFee",placeholder:"NGN",ref:K}),e.createElement(a,{error:null==B||null===(k=B.deliveryFee)||void 0===k?void 0:k.message})),e.createElement(n,null,e.createElement(h,{control:H,name:"chargeRecipient",render:function(r){var n=r.onChange,t=r.value;return e.createElement(s,{active:t,onChange:n,title:"The Receiver will be paying for delivery"})}})),e.createElement(n,null,e.createElement(t,{htmlFor:"rider"},"Assign Rider"),e.createElement(d,{id:"rider",name:"rider",placeholder:"Type your email address or Phone Number",ref:K},e.createElement("option",{value:"",disabled:!0},"Select Option"),null==U?void 0:U.map((function(r){return e.createElement("option",{key:r.id,value:r.id},r.name)}))),e.createElement(a,{error:null==B||null===(j=B.rider)||void 0===j?void 0:j.message})),e.createElement(n,null,e.createElement(h,{control:H,name:"customer",render:function(n){var t=n.onChange,l=n.value;return e.createElement(r,{spacing:6},e.createElement(c,{active:"sender"===l,onClick:function(){return t("sender")},subtitle:"Request was made by the sender",title:"Save sender’s details"}),e.createElement(c,{active:"recipient"===l,onClick:function(){return t("recipient")},subtitle:"Request was made by the receiver",title:"Save receiver’s details"}))}}),e.createElement(a,{error:null==B||null===(L=B.customer)||void 0===L?void 0:L.message})),e.createElement(u,{defaultRightIcon:!0,isLoading:V,onClick:z(M)},I))};P.defaultProps={buttonText:"Submit Request",isLoading:!1,onSubmit:function(){},riders:[],schema:null};var q=function(b){var f,y,w,N,S,P,q,T,R,C,A,x,D,O=b.buttonText,k=b.isLoading,j=b.onSubmit,L=b.riders,I=b.schema,V="admin"===b.type,M=v({resolver:g(I||F({isAdmin:V,requiredSender:!1})),defaultValues:{allowDescription:!1,chargeRecipient:!1,customer:"sender",items:[],rider:""}}),U=M.register,G=M.handleSubmit,Y=M.errors,K=M.control,z=(0,M.watch)("allowDescription");return e.createElement(r,{as:"form",spacing:6,onSubmit:G(j)},e.createElement(n,null,e.createElement(t,{htmlFor:"customer"},V?"Customer is the?":"You are the?"),e.createElement(h,{control:K,name:"customer",render:function(n){var t=n.onChange,l=n.value;return e.createElement(r,{direction:"row",spacing:4},e.createElement(p,{onClick:function(){return t("sender")},sx:{boxShadow:"none"}},e.createElement(c,{title:"Sender",active:"sender"===l})),e.createElement(p,{onClick:function(){return t("recipient")},sx:{boxShadow:"none"}},e.createElement(c,{active:"recipient"===l,title:"Receiver"})))}}),e.createElement(a,{error:null==Y||null===(f=Y.customer)||void 0===f?void 0:f.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.address"},"Pick Up Address"),e.createElement(l,{id:"sender.address",name:"sender.address",placeholder:"Type Address",ref:U}),e.createElement(a,{error:null==Y||null===(y=Y.sender)||void 0===y||null===(w=y.address)||void 0===w?void 0:w.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.address"},"Receiver Address"),e.createElement(l,{id:"recipient.address",name:"recipient.address",placeholder:"Type Address",ref:U}),e.createElement(a,{error:null==Y||null===(N=Y.recipient)||void 0===N||null===(S=N.address)||void 0===S?void 0:S.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"items"},"Item(s)"),e.createElement(h,{control:K,name:"items",render:function(r){var n=r.onChange,t=r.value;return e.createElement(i,{inputProps:{placeholder:"Type and press enter"},value:t,onChange:n})}}),e.createElement(a,{error:null==Y||null===(P=Y.items)||void 0===P?void 0:P.message})),e.createElement(n,null,e.createElement(h,{control:K,name:"allowDescription",render:function(r){var n=r.onChange,t=r.value;return e.createElement(o,{active:t,onChange:n,title:"Allow Description"})}})),z?e.createElement(n,null,e.createElement(t,{htmlFor:"description"},"Description"),e.createElement(m,{id:"description",name:"description",placeholder:"Type Name",ref:U,required:!0}),e.createElement(a,{error:null==Y||null===(q=Y.description)||void 0===q?void 0:q.message})):null,e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.name"},"Receiver Name"),e.createElement(l,{id:"recipient.name",name:"recipient.name",placeholder:"Type Name",ref:U}),e.createElement(a,{error:null==Y||null===(T=Y.recipient)||void 0===T||null===(R=T.name)||void 0===R?void 0:R.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.phoneNumber"},"Receiver Number"),e.createElement(l,{id:"recipient.phoneNumber",name:"recipient.phoneNumber",placeholder:"+234",ref:U}),e.createElement(a,{error:null==Y||null===(C=Y.recipient)||void 0===C||null===(A=C.phoneNumber)||void 0===A?void 0:A.message})),V?e.createElement(n,null,e.createElement(t,{htmlFor:"deliveryFee"},"Delivery Amount"),e.createElement(l,{id:"deliveryFee",name:"deliveryFee",placeholder:"NGN",ref:U}),e.createElement(a,{error:null==Y||null===(x=Y.deliveryFee)||void 0===x?void 0:x.message})):null,e.createElement(n,null,e.createElement(h,{control:K,name:"chargeRecipient",render:function(r){var n=r.onChange,t=r.value;return e.createElement(s,{active:t,onChange:n,title:"The Receiver will be paying for delivery"})}})),V?e.createElement(n,null,e.createElement(t,{htmlFor:"rider"},"Assign Rider"),e.createElement(d,{id:"rider",name:"rider",placeholder:"Type your email address or Phone Number",ref:U},e.createElement("option",{value:"",disabled:!0},"Select Option"),null==L?void 0:L.map((function(r){return e.createElement("option",{key:r.id,value:r.id},r.name)}))),e.createElement(a,{error:null==Y||null===(D=Y.rider)||void 0===D?void 0:D.message})):e.createElement(p,null,e.createElement(E,null,"Request Submited will have to be accepted and an estimate will be sent")),e.createElement(u,{defaultRightIcon:!0,isLoading:k,onClick:G(j)},O))};q.defaultProps={buttonText:"Submit Request",isLoading:!1,onSubmit:function(){},riders:[],schema:null,type:"client"};var T=function(d){var b,f,y,w,N,S,P,q,T,R,C,A,x,D,O,k,j,L=d.buttonText,I=d.isLoading,V=d.onSubmit,M=d.schema,U=v({resolver:g(M||F({isAdmin:!1,requiredSender:!0})),defaultValues:{allowDescription:!1,chargeRecipient:!1,customer:"sender",items:[]}}),G=U.register,Y=U.handleSubmit,K=U.errors,z=U.control,B=(0,U.watch)("allowDescription");return e.createElement(r,{as:"form",spacing:6,onSubmit:Y(V)},e.createElement(n,null,e.createElement(t,{htmlFor:"customer"},"You are the?"),e.createElement(h,{control:z,name:"customer",render:function(n){var t=n.onChange,l=n.value;return e.createElement(r,{direction:"row",spacing:4},e.createElement(p,{onClick:function(){return t("sender")},sx:{boxShadow:"none"}},e.createElement(c,{title:"Sender",active:"sender"===l})),e.createElement(p,{onClick:function(){return t("recipient")},sx:{boxShadow:"none"}},e.createElement(c,{active:"recipient"===l,title:"Receiver"})))}}),e.createElement(a,{error:null==K||null===(b=K.customer)||void 0===b?void 0:b.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.name"},"Senders Name"),e.createElement(l,{id:"sender.name",name:"sender.name",placeholder:"Type name",ref:G}),e.createElement(a,{error:null==K||null===(f=K.sender)||void 0===f||null===(y=f.name)||void 0===y?void 0:y.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.phoneNumber"},"Senders number"),e.createElement(l,{id:"sender.phoneNumber",name:"sender.phoneNumber",placeholder:"+234",ref:G}),e.createElement(a,{error:null==K||null===(w=K.sender)||void 0===w||null===(N=w.phoneNumber)||void 0===N?void 0:N.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.email"},"Senders Email"),e.createElement(l,{id:"sender.email",name:"sender.email",placeholder:"Type Email Address (Optional)",ref:G}),e.createElement(a,{error:null==K||null===(S=K.sender)||void 0===S||null===(P=S.email)||void 0===P?void 0:P.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.address"},"Pick Up Address"),e.createElement(l,{id:"sender.address",name:"sender.address",placeholder:"Type Address",ref:G}),e.createElement(a,{error:null==K||null===(q=K.sender)||void 0===q||null===(T=q.address)||void 0===T?void 0:T.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.address"},"Receiver Address"),e.createElement(l,{id:"recipient.address",name:"recipient.address",placeholder:"Type Address",ref:G}),e.createElement(a,{error:null==K||null===(R=K.recipient)||void 0===R||null===(C=R.address)||void 0===C?void 0:C.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"items"},"Item(s)"),e.createElement(h,{control:z,name:"items",render:function(r){var n=r.onChange,t=r.value;return e.createElement(i,{inputProps:{placeholder:"Type and press enter"},value:t,onChange:n})}}),e.createElement(a,{error:null==K||null===(A=K.items)||void 0===A?void 0:A.message})),e.createElement(n,null,e.createElement(h,{control:z,name:"allowDescription",render:function(r){var n=r.onChange,t=r.value;return e.createElement(o,{active:t,onChange:n,title:"Allow Description"})}})),B?e.createElement(n,null,e.createElement(t,{htmlFor:"description"},"Description"),e.createElement(m,{id:"description",name:"description",placeholder:"Type Name",ref:G,required:!0}),e.createElement(a,{error:null==K||null===(x=K.description)||void 0===x?void 0:x.message})):null,e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.name"},"Receiver Name"),e.createElement(l,{id:"recipient.name",name:"recipient.name",placeholder:"Type Name",ref:G}),e.createElement(a,{error:null==K||null===(D=K.recipient)||void 0===D||null===(O=D.name)||void 0===O?void 0:O.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.phoneNumber"},"Receiver Number"),e.createElement(l,{id:"recipient.phoneNumber",name:"recipient.phoneNumber",placeholder:"+234",ref:G}),e.createElement(a,{error:null==K||null===(k=K.recipient)||void 0===k||null===(j=k.phoneNumber)||void 0===j?void 0:j.message})),e.createElement(n,null,e.createElement(h,{control:z,name:"chargeRecipient",render:function(r){var n=r.onChange,t=r.value;return e.createElement(s,{active:t,onChange:n,title:"The Receiver will be paying for delivery"})}})),e.createElement(p,null,e.createElement(E,null,"Request Submited will have to be accepted and an estimate will be sent")),e.createElement(u,{defaultRightIcon:!0,isLoading:I,onClick:Y(V)},L))};T.defaultProps={buttonText:"Submit Request",extras:null,isLoading:!1,onSubmit:function(){},type:"client",schema:null};var R=function(i){var m,s,d=i.buttonText,c=i.extras,p=i.isLoading,E=i.onSubmit,b=i.schema,f=v({resolver:g(b||y),defaultValues:{rememberMe:!1}}),w=f.register,N=f.handleSubmit,S=f.errors,F=f.control;return e.createElement(r,{as:"form",spacing:6,onSubmit:N(E)},e.createElement(n,null,e.createElement(t,{htmlFor:"username"},"Email Address or Phone Number"),e.createElement(l,{id:"username",name:"username",placeholder:"Type your email address or Phone Number",ref:w}),e.createElement(a,{error:null==S||null===(m=S.username)||void 0===m?void 0:m.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"password"},"Password"),e.createElement(l,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:w}),e.createElement(a,{error:null==S||null===(s=S.password)||void 0===s?void 0:s.message})),e.createElement(n,null,e.createElement(h,{control:F,name:"rememberMe",render:function(r){var n=r.onChange,t=r.value;return e.createElement(o,{active:t,onChange:n,title:"Keep me logged in"})}})),e.createElement(u,{defaultRightIcon:!0,isLoading:p,onClick:N(E)},d),c)};R.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null};var C=function(i){var o,m,s=i.buttonText,d=i.extras,c=i.isLoading,p=i.onSubmit,E=i.schema,h=v({resolver:g(E||f),defaultValues:{rememberMe:!1}}),b=h.register,y=h.handleSubmit,w=h.errors;return e.createElement(r,{as:"form",spacing:6,onSubmit:y(p)},e.createElement(n,null,e.createElement(t,{htmlFor:"password"},"Password"),e.createElement(l,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:b}),e.createElement(a,{error:null==w||null===(o=w.password)||void 0===o?void 0:o.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"confirmPassword"},"Re-enter Password"),e.createElement(l,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:b}),e.createElement(a,{error:null==w||null===(m=w.confirmPassword)||void 0===m?void 0:m.message})),e.createElement(u,{defaultRightIcon:!0,isLoading:c,onClick:y(p)},s),d)};C.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null};export{P as AdminOrderForm,q as CustomerOrderForm,T as GuestOrderForm,R as LoginForm,C as PasswordForm,y as loginSchema,F as orderSchema,f as passwordSchema};
