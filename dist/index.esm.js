import e from"react";import{Stack as r,FormGroup as n,Label as t,Input as l,FormError as a,TagsInput as i,Checkbox as o,Textarea as s,Switch as m,Select as d,Radio as c,Button as u,Card as p,Text as E}from"skylos-ui";import{useForm as v,Controller as h}from"react-hook-form";import{yupResolver as g}from"@hookform/resolvers/yup";import*as b from"yup";var f=b.object().shape({password:b.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:b.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([b.ref("password"),null],"Password and confirm password must match")}),w=b.object().shape({currentPassword:b.string().min(8,"Password must be at least 8 characters").required("Password is required"),newPassword:b.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:b.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([b.ref("newPassword"),null],"New password and confirm password must match")}),y=b.object().shape({username:b.string().required("Email address or phone number is required"),password:b.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:b.boolean().required()});function P(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function S(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function N(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?S(Object(n),!0).forEach((function(r){P(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var q=function(e){var r=e.isAdmin,n=e.requiredSender;return b.object().shape(N({allowDescription:b.boolean(),chargeRecipient:b.boolean(),customer:b.string(),description:b.string(),items:b.array().min(1,"Please enter at least one item").required("Item(s) are required"),recipient:b.object().shape({address:b.string().required("Address is required"),email:b.string().email("Email is invalid"),name:b.string().required("Name is required"),phoneNumber:b.string().required("Phone number is required")}),sender:b.object().shape(N({address:b.string().required("Address is required"),email:b.string().email("Email is invalid")},n?{name:b.string().required("Name is required"),phoneNumber:b.string().required("Phone number is required")}:{name:b.string(),phoneNumber:b.string()}))},r?{deliveryFee:b.string().required("Delivery amount is required"),rider:b.string().required("Please select rider")}:{}))},F=function(p){var E,b,f,w,y,P,S,N,F,T,R,C,x,A,O,D,k,L,j,I=p.buttonText,V=p.isLoading,M=p.onSubmit,U=p.riders,G=p.schema,Y=v({resolver:g(G||q({isAdmin:!0,requiredSender:!0})),defaultValues:{allowDescription:!1,chargeRecipient:!1,customer:"sender",items:[],rider:""}}),K=Y.register,z=Y.handleSubmit,B=Y.errors,H=Y.control,J=(0,Y.watch)("allowDescription");return e.createElement(r,{as:"form",spacing:6,onSubmit:z(M)},e.createElement(n,null,e.createElement(t,{htmlFor:"sender.name"},"Senders Name"),e.createElement(l,{id:"sender.name",name:"sender.name",placeholder:"Type name",ref:K}),e.createElement(a,{error:null==B||null===(E=B.sender)||void 0===E||null===(b=E.name)||void 0===b?void 0:b.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.phoneNumber"},"Senders number"),e.createElement(l,{id:"sender.phoneNumber",name:"sender.phoneNumber",placeholder:"+234",ref:K}),e.createElement(a,{error:null==B||null===(f=B.sender)||void 0===f||null===(w=f.phoneNumber)||void 0===w?void 0:w.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.email"},"Senders Email"),e.createElement(l,{id:"sender.email",name:"sender.email",placeholder:"Type Email Address (Optional)",ref:K}),e.createElement(a,{error:null==B||null===(y=B.sender)||void 0===y||null===(P=y.email)||void 0===P?void 0:P.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.address"},"Pick Up Address"),e.createElement(l,{id:"sender.address",name:"sender.address",placeholder:"Type Address",ref:K}),e.createElement(a,{error:null==B||null===(S=B.sender)||void 0===S||null===(N=S.address)||void 0===N?void 0:N.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.address"},"Receiver Address"),e.createElement(l,{id:"recipient.address",name:"recipient.address",placeholder:"Type Address",ref:K}),e.createElement(a,{error:null==B||null===(F=B.recipient)||void 0===F||null===(T=F.address)||void 0===T?void 0:T.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"items"},"Item(s)"),e.createElement(h,{control:H,name:"items",render:function(r){var n=r.onChange,t=r.value;return e.createElement(i,{inputProps:{placeholder:"Type and press enter"},value:t,onChange:n})}}),e.createElement(a,{error:null==B||null===(R=B.items)||void 0===R?void 0:R.message})),e.createElement(n,null,e.createElement(h,{control:H,name:"allowDescription",render:function(r){var n=r.onChange,t=r.value;return e.createElement(o,{active:t,onChange:n,title:"Allow Description"})}})),J?e.createElement(n,null,e.createElement(t,{htmlFor:"description"},"Description"),e.createElement(s,{id:"description",name:"description",placeholder:"Type Name",ref:K,required:!0}),e.createElement(a,{error:null==B||null===(C=B.description)||void 0===C?void 0:C.message})):null,e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.name"},"Receiver Name"),e.createElement(l,{id:"recipient.name",name:"recipient.name",placeholder:"Type Name",ref:K}),e.createElement(a,{error:null==B||null===(x=B.recipient)||void 0===x||null===(A=x.name)||void 0===A?void 0:A.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.phoneNumber"},"Receiver Number"),e.createElement(l,{id:"recipient.phoneNumber",name:"recipient.phoneNumber",placeholder:"+234",ref:K}),e.createElement(a,{error:null==B||null===(O=B.recipient)||void 0===O||null===(D=O.phoneNumber)||void 0===D?void 0:D.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"deliveryFee"},"Delivery Amount"),e.createElement(l,{id:"deliveryFee",name:"deliveryFee",placeholder:"NGN",ref:K}),e.createElement(a,{error:null==B||null===(k=B.deliveryFee)||void 0===k?void 0:k.message})),e.createElement(n,null,e.createElement(h,{control:H,name:"chargeRecipient",render:function(r){var n=r.onChange,t=r.value;return e.createElement(m,{active:t,onChange:n,title:"The Receiver will be paying for delivery"})}})),e.createElement(n,null,e.createElement(t,{htmlFor:"rider"},"Assign Rider"),e.createElement(d,{id:"rider",name:"rider",placeholder:"Type your email address or Phone Number",ref:K},e.createElement("option",{value:"",disabled:!0},"Select Option"),null==U?void 0:U.map((function(r){return e.createElement("option",{key:r.id,value:r.id},r.name)}))),e.createElement(a,{error:null==B||null===(L=B.rider)||void 0===L?void 0:L.message})),e.createElement(n,null,e.createElement(h,{control:H,name:"customer",render:function(n){var t=n.onChange,l=n.value;return e.createElement(r,{spacing:6},e.createElement(c,{active:"sender"===l,onClick:function(){return t("sender")},subtitle:"Request was made by the sender",title:"Save sender’s details"}),e.createElement(c,{active:"recipient"===l,onClick:function(){return t("recipient")},subtitle:"Request was made by the receiver",title:"Save receiver’s details"}))}}),e.createElement(a,{error:null==B||null===(j=B.customer)||void 0===j?void 0:j.message})),e.createElement(u,{defaultRightIcon:!0,isLoading:V,onClick:z(M)},I))};F.defaultProps={buttonText:"Submit Request",isLoading:!1,onSubmit:function(){},riders:[],schema:null};var T=function(b){var f,w,y,P,S,N,F,T,R,C,x,A,O,D=b.buttonText,k=b.isLoading,L=b.onSubmit,j=b.riders,I=b.schema,V="admin"===b.type,M=v({resolver:g(I||q({isAdmin:V,requiredSender:!1})),defaultValues:{allowDescription:!1,chargeRecipient:!1,customer:"sender",items:[],rider:""}}),U=M.register,G=M.handleSubmit,Y=M.errors,K=M.control,z=(0,M.watch)("allowDescription");return e.createElement(r,{as:"form",spacing:6,onSubmit:G(L)},e.createElement(n,null,e.createElement(t,{htmlFor:"customer"},V?"Customer is the?":"You are the?"),e.createElement(h,{control:K,name:"customer",render:function(n){var t=n.onChange,l=n.value;return e.createElement(r,{direction:"row",spacing:4},e.createElement(p,{onClick:function(){return t("sender")},sx:{boxShadow:"none"}},e.createElement(c,{title:"Sender",active:"sender"===l})),e.createElement(p,{onClick:function(){return t("recipient")},sx:{boxShadow:"none"}},e.createElement(c,{active:"recipient"===l,title:"Receiver"})))}}),e.createElement(a,{error:null==Y||null===(f=Y.customer)||void 0===f?void 0:f.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.address"},"Pick Up Address"),e.createElement(l,{id:"sender.address",name:"sender.address",placeholder:"Type Address",ref:U}),e.createElement(a,{error:null==Y||null===(w=Y.sender)||void 0===w||null===(y=w.address)||void 0===y?void 0:y.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.address"},"Receiver Address"),e.createElement(l,{id:"recipient.address",name:"recipient.address",placeholder:"Type Address",ref:U}),e.createElement(a,{error:null==Y||null===(P=Y.recipient)||void 0===P||null===(S=P.address)||void 0===S?void 0:S.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"items"},"Item(s)"),e.createElement(h,{control:K,name:"items",render:function(r){var n=r.onChange,t=r.value;return e.createElement(i,{inputProps:{placeholder:"Type and press enter"},value:t,onChange:n})}}),e.createElement(a,{error:null==Y||null===(N=Y.items)||void 0===N?void 0:N.message})),e.createElement(n,null,e.createElement(h,{control:K,name:"allowDescription",render:function(r){var n=r.onChange,t=r.value;return e.createElement(o,{active:t,onChange:n,title:"Allow Description"})}})),z?e.createElement(n,null,e.createElement(t,{htmlFor:"description"},"Description"),e.createElement(s,{id:"description",name:"description",placeholder:"Type Name",ref:U,required:!0}),e.createElement(a,{error:null==Y||null===(F=Y.description)||void 0===F?void 0:F.message})):null,e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.name"},"Receiver Name"),e.createElement(l,{id:"recipient.name",name:"recipient.name",placeholder:"Type Name",ref:U}),e.createElement(a,{error:null==Y||null===(T=Y.recipient)||void 0===T||null===(R=T.name)||void 0===R?void 0:R.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.phoneNumber"},"Receiver Number"),e.createElement(l,{id:"recipient.phoneNumber",name:"recipient.phoneNumber",placeholder:"+234",ref:U}),e.createElement(a,{error:null==Y||null===(C=Y.recipient)||void 0===C||null===(x=C.phoneNumber)||void 0===x?void 0:x.message})),V?e.createElement(n,null,e.createElement(t,{htmlFor:"deliveryFee"},"Delivery Amount"),e.createElement(l,{id:"deliveryFee",name:"deliveryFee",placeholder:"NGN",ref:U}),e.createElement(a,{error:null==Y||null===(A=Y.deliveryFee)||void 0===A?void 0:A.message})):null,e.createElement(n,null,e.createElement(h,{control:K,name:"chargeRecipient",render:function(r){var n=r.onChange,t=r.value;return e.createElement(m,{active:t,onChange:n,title:"The Receiver will be paying for delivery"})}})),V?e.createElement(n,null,e.createElement(t,{htmlFor:"rider"},"Assign Rider"),e.createElement(d,{id:"rider",name:"rider",placeholder:"Type your email address or Phone Number",ref:U},e.createElement("option",{value:"",disabled:!0},"Select Option"),null==j?void 0:j.map((function(r){return e.createElement("option",{key:r.id,value:r.id},r.name)}))),e.createElement(a,{error:null==Y||null===(O=Y.rider)||void 0===O?void 0:O.message})):e.createElement(p,null,e.createElement(E,null,"Request Submited will have to be accepted and an estimate will be sent")),e.createElement(u,{defaultRightIcon:!0,isLoading:k,onClick:G(L)},D))};T.defaultProps={buttonText:"Submit Request",isLoading:!1,onSubmit:function(){},riders:[],schema:null,type:"client"};var R=function(d){var b,f,w,y,P,S,N,F,T,R,C,x,A,O,D,k,L,j=d.buttonText,I=d.isLoading,V=d.onSubmit,M=d.schema,U=v({resolver:g(M||q({isAdmin:!1,requiredSender:!0})),defaultValues:{allowDescription:!1,chargeRecipient:!1,customer:"sender",items:[]}}),G=U.register,Y=U.handleSubmit,K=U.errors,z=U.control,B=(0,U.watch)("allowDescription");return e.createElement(r,{as:"form",spacing:6,onSubmit:Y(V)},e.createElement(n,null,e.createElement(t,{htmlFor:"customer"},"You are the?"),e.createElement(h,{control:z,name:"customer",render:function(n){var t=n.onChange,l=n.value;return e.createElement(r,{direction:"row",spacing:4},e.createElement(p,{onClick:function(){return t("sender")},sx:{boxShadow:"none"}},e.createElement(c,{title:"Sender",active:"sender"===l})),e.createElement(p,{onClick:function(){return t("recipient")},sx:{boxShadow:"none"}},e.createElement(c,{active:"recipient"===l,title:"Receiver"})))}}),e.createElement(a,{error:null==K||null===(b=K.customer)||void 0===b?void 0:b.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.name"},"Senders Name"),e.createElement(l,{id:"sender.name",name:"sender.name",placeholder:"Type name",ref:G}),e.createElement(a,{error:null==K||null===(f=K.sender)||void 0===f||null===(w=f.name)||void 0===w?void 0:w.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.phoneNumber"},"Senders number"),e.createElement(l,{id:"sender.phoneNumber",name:"sender.phoneNumber",placeholder:"+234",ref:G}),e.createElement(a,{error:null==K||null===(y=K.sender)||void 0===y||null===(P=y.phoneNumber)||void 0===P?void 0:P.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.email"},"Senders Email"),e.createElement(l,{id:"sender.email",name:"sender.email",placeholder:"Type Email Address (Optional)",ref:G}),e.createElement(a,{error:null==K||null===(S=K.sender)||void 0===S||null===(N=S.email)||void 0===N?void 0:N.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"sender.address"},"Pick Up Address"),e.createElement(l,{id:"sender.address",name:"sender.address",placeholder:"Type Address",ref:G}),e.createElement(a,{error:null==K||null===(F=K.sender)||void 0===F||null===(T=F.address)||void 0===T?void 0:T.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.address"},"Receiver Address"),e.createElement(l,{id:"recipient.address",name:"recipient.address",placeholder:"Type Address",ref:G}),e.createElement(a,{error:null==K||null===(R=K.recipient)||void 0===R||null===(C=R.address)||void 0===C?void 0:C.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"items"},"Item(s)"),e.createElement(h,{control:z,name:"items",render:function(r){var n=r.onChange,t=r.value;return e.createElement(i,{inputProps:{placeholder:"Type and press enter"},value:t,onChange:n})}}),e.createElement(a,{error:null==K||null===(x=K.items)||void 0===x?void 0:x.message})),e.createElement(n,null,e.createElement(h,{control:z,name:"allowDescription",render:function(r){var n=r.onChange,t=r.value;return e.createElement(o,{active:t,onChange:n,title:"Allow Description"})}})),B?e.createElement(n,null,e.createElement(t,{htmlFor:"description"},"Description"),e.createElement(s,{id:"description",name:"description",placeholder:"Type Name",ref:G,required:!0}),e.createElement(a,{error:null==K||null===(A=K.description)||void 0===A?void 0:A.message})):null,e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.name"},"Receiver Name"),e.createElement(l,{id:"recipient.name",name:"recipient.name",placeholder:"Type Name",ref:G}),e.createElement(a,{error:null==K||null===(O=K.recipient)||void 0===O||null===(D=O.name)||void 0===D?void 0:D.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"recipient.phoneNumber"},"Receiver Number"),e.createElement(l,{id:"recipient.phoneNumber",name:"recipient.phoneNumber",placeholder:"+234",ref:G}),e.createElement(a,{error:null==K||null===(k=K.recipient)||void 0===k||null===(L=k.phoneNumber)||void 0===L?void 0:L.message})),e.createElement(n,null,e.createElement(h,{control:z,name:"chargeRecipient",render:function(r){var n=r.onChange,t=r.value;return e.createElement(m,{active:t,onChange:n,title:"The Receiver will be paying for delivery"})}})),e.createElement(p,null,e.createElement(E,null,"Request Submited will have to be accepted and an estimate will be sent")),e.createElement(u,{defaultRightIcon:!0,isLoading:I,onClick:Y(V)},j))};R.defaultProps={buttonText:"Submit Request",extras:null,isLoading:!1,onSubmit:function(){},type:"client",schema:null};var C=function(i){var s,m,d=i.buttonText,c=i.extras,p=i.isLoading,E=i.onSubmit,b=i.schema,f=v({resolver:g(b||y),defaultValues:{rememberMe:!1}}),w=f.register,P=f.handleSubmit,S=f.errors,N=f.control;return e.createElement(r,{as:"form",spacing:6,onSubmit:P(E)},e.createElement(n,null,e.createElement(t,{htmlFor:"username"},"Email Address or Phone Number"),e.createElement(l,{id:"username",name:"username",placeholder:"Type your email address or Phone Number",ref:w}),e.createElement(a,{error:null==S||null===(s=S.username)||void 0===s?void 0:s.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"password"},"Password"),e.createElement(l,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:w}),e.createElement(a,{error:null==S||null===(m=S.password)||void 0===m?void 0:m.message})),e.createElement(n,null,e.createElement(h,{control:N,name:"rememberMe",render:function(r){var n=r.onChange,t=r.value;return e.createElement(o,{active:t,onChange:n,title:"Keep me logged in"})}})),e.createElement(u,{defaultRightIcon:!0,isLoading:p,onClick:P(E)},d),c)};C.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null};var x=function(i){var o,s,m,d=i.buttonText,c=i.extras,p=i.isLoading,E=i.onSubmit,h=i.schema,b=v({resolver:g(h||w),defaultValues:{rememberMe:!1}}),f=b.register,y=b.handleSubmit,P=b.errors;return e.createElement(r,{as:"form",spacing:6,onSubmit:y(E)},e.createElement(n,null,e.createElement(t,{htmlFor:"currentPassword"},"Current Password"),e.createElement(l,{id:"currentPassword",placeholder:"Type your password",type:"password",name:"currentPassword",ref:f}),e.createElement(a,{error:null==P||null===(o=P.currentPassword)||void 0===o?void 0:o.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"newPassword"},"New Password"),e.createElement(l,{id:"newPassword",placeholder:"Type your password",type:"password",name:"newPassword",ref:f}),e.createElement(a,{error:null==P||null===(s=P.newPassword)||void 0===s?void 0:s.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"confirmPassword"},"Re-enter New Password"),e.createElement(l,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:f}),e.createElement(a,{error:null==P||null===(m=P.confirmPassword)||void 0===m?void 0:m.message})),e.createElement(u,{defaultRightIcon:!0,isLoading:p,onClick:y(E)},d),c)};x.defaultProps={buttonText:"Update Password",extras:null,isLoading:!1,onSubmit:function(){},schema:null};var A=function(i){var o,s,m=i.buttonText,d=i.extras,c=i.isLoading,p=i.onSubmit,E=i.schema,h=v({resolver:g(E||f),defaultValues:{rememberMe:!1}}),b=h.register,w=h.handleSubmit,y=h.errors;return e.createElement(r,{as:"form",spacing:6,onSubmit:w(p)},e.createElement(n,null,e.createElement(t,{htmlFor:"password"},"Password"),e.createElement(l,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:b}),e.createElement(a,{error:null==y||null===(o=y.password)||void 0===o?void 0:o.message})),e.createElement(n,null,e.createElement(t,{htmlFor:"confirmPassword"},"Re-enter Password"),e.createElement(l,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:b}),e.createElement(a,{error:null==y||null===(s=y.confirmPassword)||void 0===s?void 0:s.message})),e.createElement(u,{defaultRightIcon:!0,isLoading:c,onClick:w(p)},m),d)};A.defaultProps={buttonText:"Reset Password",extras:null,isLoading:!1,onSubmit:function(){},schema:null};export{F as AdminOrderForm,x as ChangePasswordForm,T as CustomerOrderForm,R as GuestOrderForm,C as LoginForm,A as PasswordForm,w as confirmPasswordSchema,y as loginSchema,q as orderSchema,f as passwordSchema};
