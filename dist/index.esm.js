import e from"react";import{Stack as r,FormGroup as a,Label as o,Input as s,FormError as t,Checkbox as n,Button as l}from"skylos-ui";import{useForm as m,Controller as i}from"react-hook-form";import{yupResolver as d}from"@hookform/resolvers/yup";import*as u from"yup";var c=u.object().shape({password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:u.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([u.ref("password"),null],"Password and confirm password must match")}),p=u.object().shape({email:u.string().email("Invalid email address").required("Email is required"),password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:u.boolean().required()}),w=function(u){var c,w,f=u.buttonText,h=u.extras,g=u.isLoading,E=u.onSubmit,b=u.schema,v=m({resolver:d(b||p),defaultValues:{rememberMe:!1}}),P=v.register,y=v.handleSubmit,q=v.errors,x=v.control;return e.createElement(r,{as:"form",spacing:6,onSubmit:y(E)},e.createElement(a,null,e.createElement(o,{htmlFor:"email"},"Email Address or Phone Number"),e.createElement(s,{id:"email",name:"email",placeholder:"Type your email address or Phone Number",ref:P}),e.createElement(t,{error:null==q||null===(c=q.email)||void 0===c?void 0:c.message})),e.createElement(a,null,e.createElement(o,{htmlFor:"password"},"Password"),e.createElement(s,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:P}),e.createElement(t,{error:null==q||null===(w=q.password)||void 0===w?void 0:w.message})),e.createElement(a,null,e.createElement(i,{control:x,name:"rememberMe",render:function(r){var a=r.onChange;r.onBlur;var o=r.value;return e.createElement(n,{active:o,onChange:a,title:"Keep me logged in"})}})),e.createElement(l,{defaultRightIcon:!0,isLoading:g,onClick:y(E)},f),h)};w.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null};var f=function(n){var i,u,p=n.buttonText,w=n.extras,f=n.isLoading,h=n.onSubmit,g=n.schema,E=m({resolver:d(g||c),defaultValues:{rememberMe:!1}}),b=E.register,v=E.handleSubmit,P=E.errors;return e.createElement(r,{as:"form",spacing:6,onSubmit:v(h)},e.createElement(a,null,e.createElement(o,{htmlFor:"password"},"Password"),e.createElement(s,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:b}),e.createElement(t,{error:null==P||null===(i=P.password)||void 0===i?void 0:i.message})),e.createElement(a,null,e.createElement(o,{htmlFor:"confirmPassword"},"Re-enter Password"),e.createElement(s,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:b}),e.createElement(t,{error:null==P||null===(u=P.confirmPassword)||void 0===u?void 0:u.message})),e.createElement(l,{defaultRightIcon:!0,isLoading:f,onClick:v(h)},p),w)};f.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null};export{w as LoginForm,f as PasswordForm,p as loginSchema,c as passwordSchema};
