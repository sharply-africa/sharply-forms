import e from"react";import{Stack as r,FormGroup as a,Label as s,Input as o,FormError as t,Checkbox as l,Button as n}from"skylos-ui";import{useForm as m,Controller as i}from"react-hook-form";import{yupResolver as d}from"@hookform/resolvers/yup";import{loginSchema as u,passwordSchema as c}from"schemas";import*as p from"yup";var w=function(c){var p,w,f=c.buttonText,h=c.extras,E=c.onSubmit,b=c.schema,g=m({resolver:d(b||u),defaultValues:{rememberMe:!1}}),v=g.register,P=g.handleSubmit,y=g.errors,S=g.control;return e.createElement(r,{as:"form",spacing:6,onSubmit:P(E)},e.createElement(a,null,e.createElement(s,{htmlFor:"email"},"Email Address or Phone Number"),e.createElement(o,{id:"email",name:"email",placeholder:"Type your email address or Phone Number",ref:v}),e.createElement(t,{error:null==y||null===(p=y.email)||void 0===p?void 0:p.message})),e.createElement(a,null,e.createElement(s,{htmlFor:"password"},"Password"),e.createElement(o,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:v}),e.createElement(t,{error:null==y||null===(w=y.password)||void 0===w?void 0:w.message})),e.createElement(a,null,e.createElement(i,{control:S,name:"rememberMe",render:function(r){var a=r.onChange;r.onBlur;var s=r.value;return e.createElement(l,{active:s,onChange:a,title:"Keep me logged in"})}})),e.createElement(n,{onClick:P(E),defaultRightIcon:!0},f),h)};w.defaultProps={buttonText:"Login",extras:null,onSubmit:function(){},schema:null};var f=function(l){var i,u,p=l.buttonText,w=l.extras,f=l.onSubmit,h=l.schema,E=m({resolver:d(h||c),defaultValues:{rememberMe:!1}}),b=E.register,g=E.handleSubmit,v=E.errors;return e.createElement(r,{as:"form",spacing:6,onSubmit:g(f)},e.createElement(a,null,e.createElement(s,{htmlFor:"password"},"Password"),e.createElement(o,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:b}),e.createElement(t,{error:null==v||null===(i=v.password)||void 0===i?void 0:i.message})),e.createElement(a,null,e.createElement(s,{htmlFor:"confirmPassword"},"Re-enter Password"),e.createElement(o,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:b}),e.createElement(t,{error:null==v||null===(u=v.confirmPassword)||void 0===u?void 0:u.message})),e.createElement(n,{onClick:g(f),defaultRightIcon:!0},p),w)};f.defaultProps={buttonText:"Login",extras:null,onSubmit:function(){},schema:null};var h=p.object().shape({password:p.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:p.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([p.ref("password"),null],"Password and confirm password must match")}),E=p.object().shape({email:p.string().email("Invalid email address").required("Email is required"),password:p.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:p.boolean().required()});export{w as LoginForm,f as PasswordForm,E as loginSchema,h as passwordSchema};
