import e from"react";import{Stack as r,FormGroup as s,Label as a,Input as o,FormError as t,Checkbox as n,Button as l}from"skylos-ui";import{useForm as m,Controller as i}from"react-hook-form";import{yupResolver as d}from"@hookform/resolvers/yup";import*as u from"yup";var c=u.object().shape({password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:u.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([u.ref("password"),null],"Password and confirm password must match")}),p=u.object().shape({username:u.string().required("Email address or phone number is required"),password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:u.boolean().required()}),w=function(u){var c,w,f=u.buttonText,h=u.extras,g=u.isLoading,b=u.onSubmit,E=u.schema,v=m({resolver:d(E||p),defaultValues:{rememberMe:!1}}),P=v.register,y=v.handleSubmit,q=v.errors,x=v.control;return e.createElement(r,{as:"form",spacing:6,onSubmit:y(b)},e.createElement(s,null,e.createElement(a,{htmlFor:"username"},"Email Address or Phone Number"),e.createElement(o,{id:"username",name:"username",placeholder:"Type your email address or Phone Number",ref:P}),e.createElement(t,{error:null==q||null===(c=q.username)||void 0===c?void 0:c.message})),e.createElement(s,null,e.createElement(a,{htmlFor:"password"},"Password"),e.createElement(o,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:P}),e.createElement(t,{error:null==q||null===(w=q.password)||void 0===w?void 0:w.message})),e.createElement(s,null,e.createElement(i,{control:x,name:"rememberMe",render:function(r){var s=r.onChange;r.onBlur;var a=r.value;return e.createElement(n,{active:a,onChange:s,title:"Keep me logged in"})}})),e.createElement(l,{defaultRightIcon:!0,isLoading:g,onClick:y(b)},f),h)};w.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null};var f=function(n){var i,u,p=n.buttonText,w=n.extras,f=n.isLoading,h=n.onSubmit,g=n.schema,b=m({resolver:d(g||c),defaultValues:{rememberMe:!1}}),E=b.register,v=b.handleSubmit,P=b.errors;return e.createElement(r,{as:"form",spacing:6,onSubmit:v(h)},e.createElement(s,null,e.createElement(a,{htmlFor:"password"},"Password"),e.createElement(o,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:E}),e.createElement(t,{error:null==P||null===(i=P.password)||void 0===i?void 0:i.message})),e.createElement(s,null,e.createElement(a,{htmlFor:"confirmPassword"},"Re-enter Password"),e.createElement(o,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:E}),e.createElement(t,{error:null==P||null===(u=P.confirmPassword)||void 0===u?void 0:u.message})),e.createElement(l,{defaultRightIcon:!0,isLoading:f,onClick:v(h)},p),w)};f.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null};export{w as LoginForm,f as PasswordForm,p as loginSchema,c as passwordSchema};
