import e from"react";import{Stack as r,FormGroup as a,Label as t,Input as o,FormError as s,Checkbox as l,Button as n}from"skylos-ui";import{useForm as m,Controller as i}from"react-hook-form";import{yupResolver as d}from"@hookform/resolvers/yup";import*as u from"yup";var c=u.object().shape({password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:u.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([u.ref("password"),null],"Password and confirm password must match")}),p=u.object().shape({email:u.string().email("Invalid email address").required("Email is required"),password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:u.boolean().required()}),w=function(u){var c,w,f=u.buttonText,h=u.extras,E=u.onSubmit,b=u.schema,g=m({resolver:d(b||p),defaultValues:{rememberMe:!1}}),v=g.register,P=g.handleSubmit,y=g.errors,q=g.control;return e.createElement(r,{as:"form",spacing:6,onSubmit:P(E)},e.createElement(a,null,e.createElement(t,{htmlFor:"email"},"Email Address or Phone Number"),e.createElement(o,{id:"email",name:"email",placeholder:"Type your email address or Phone Number",ref:v}),e.createElement(s,{error:null==y||null===(c=y.email)||void 0===c?void 0:c.message})),e.createElement(a,null,e.createElement(t,{htmlFor:"password"},"Password"),e.createElement(o,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:v}),e.createElement(s,{error:null==y||null===(w=y.password)||void 0===w?void 0:w.message})),e.createElement(a,null,e.createElement(i,{control:q,name:"rememberMe",render:function(r){var a=r.onChange;r.onBlur;var t=r.value;return e.createElement(l,{active:t,onChange:a,title:"Keep me logged in"})}})),e.createElement(n,{onClick:P(E),defaultRightIcon:!0},f),h)};w.defaultProps={buttonText:"Login",extras:null,onSubmit:function(){},schema:null};var f=function(l){var i,u,p=l.buttonText,w=l.extras,f=l.onSubmit,h=l.schema,E=m({resolver:d(h||c),defaultValues:{rememberMe:!1}}),b=E.register,g=E.handleSubmit,v=E.errors;return e.createElement(r,{as:"form",spacing:6,onSubmit:g(f)},e.createElement(a,null,e.createElement(t,{htmlFor:"password"},"Password"),e.createElement(o,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:b}),e.createElement(s,{error:null==v||null===(i=v.password)||void 0===i?void 0:i.message})),e.createElement(a,null,e.createElement(t,{htmlFor:"confirmPassword"},"Re-enter Password"),e.createElement(o,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:b}),e.createElement(s,{error:null==v||null===(u=v.confirmPassword)||void 0===u?void 0:u.message})),e.createElement(n,{onClick:g(f),defaultRightIcon:!0},p),w)};f.defaultProps={buttonText:"Login",extras:null,onSubmit:function(){},schema:null};export{w as LoginForm,f as PasswordForm,p as loginSchema,c as passwordSchema};
