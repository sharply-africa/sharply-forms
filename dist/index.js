"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("skylos-ui"),t=require("react-hook-form"),a=require("@hookform/resolvers/yup"),o=require("yup");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var n=s(e),u=l(o),d=u.object().shape({password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:u.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([u.ref("password"),null],"Password and confirm password must match")}),i=u.object().shape({email:u.string().email("Invalid email address").required("Email is required"),password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:u.boolean().required()}),m=function(e){var o,s,l=e.buttonText,u=e.extras,d=e.isLoading,m=e.onSubmit,c=e.schema,f=t.useForm({resolver:a.yupResolver(c||i),defaultValues:{rememberMe:!1}}),p=f.register,b=f.handleSubmit,w=f.errors,h=f.control;return n.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:b(m)},n.default.createElement(r.FormGroup,null,n.default.createElement(r.Label,{htmlFor:"email"},"Email Address or Phone Number"),n.default.createElement(r.Input,{id:"email",name:"email",placeholder:"Type your email address or Phone Number",ref:p}),n.default.createElement(r.FormError,{error:null==w||null===(o=w.email)||void 0===o?void 0:o.message})),n.default.createElement(r.FormGroup,null,n.default.createElement(r.Label,{htmlFor:"password"},"Password"),n.default.createElement(r.Input,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:p}),n.default.createElement(r.FormError,{error:null==w||null===(s=w.password)||void 0===s?void 0:s.message})),n.default.createElement(r.FormGroup,null,n.default.createElement(t.Controller,{control:h,name:"rememberMe",render:function(e){var t=e.onChange;e.onBlur;var a=e.value;return n.default.createElement(r.Checkbox,{active:a,onChange:t,title:"Keep me logged in"})}})),n.default.createElement(r.Button,{defaultRightIcon:!0,isLoading:d,onClick:b(m)},l),u)};m.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null};var c=function(e){var o,s,l=e.buttonText,u=e.extras,i=e.isLoading,m=e.onSubmit,c=e.schema,f=t.useForm({resolver:a.yupResolver(c||d),defaultValues:{rememberMe:!1}}),p=f.register,b=f.handleSubmit,w=f.errors;return n.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:b(m)},n.default.createElement(r.FormGroup,null,n.default.createElement(r.Label,{htmlFor:"password"},"Password"),n.default.createElement(r.Input,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:p}),n.default.createElement(r.FormError,{error:null==w||null===(o=w.password)||void 0===o?void 0:o.message})),n.default.createElement(r.FormGroup,null,n.default.createElement(r.Label,{htmlFor:"confirmPassword"},"Re-enter Password"),n.default.createElement(r.Input,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:p}),n.default.createElement(r.FormError,{error:null==w||null===(s=w.confirmPassword)||void 0===s?void 0:s.message})),n.default.createElement(r.Button,{defaultRightIcon:!0,isLoading:i,onClick:b(m)},l),u)};c.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null},exports.LoginForm=m,exports.PasswordForm=c,exports.loginSchema=i,exports.passwordSchema=d;
