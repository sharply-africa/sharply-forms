"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("skylos-ui"),t=require("react-hook-form"),a=require("@hookform/resolvers/yup"),o=require("yup");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var l=s(e),u=n(o),d=u.object().shape({password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:u.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([u.ref("password"),null],"Password and confirm password must match")}),m=u.object().shape({username:u.string().required("Email address or phone number is required"),password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:u.boolean().required()}),i=function(e){var o,s,n=e.buttonText,u=e.extras,d=e.isLoading,i=e.onSubmit,c=e.schema,f=t.useForm({resolver:a.yupResolver(c||m),defaultValues:{rememberMe:!1}}),p=f.register,b=f.handleSubmit,w=f.errors,h=f.control;return l.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:b(i)},l.default.createElement(r.FormGroup,null,l.default.createElement(r.Label,{htmlFor:"username"},"Email Address or Phone Number"),l.default.createElement(r.Input,{id:"username",name:"username",placeholder:"Type your email address or Phone Number",ref:p}),l.default.createElement(r.FormError,{error:null==w||null===(o=w.username)||void 0===o?void 0:o.message})),l.default.createElement(r.FormGroup,null,l.default.createElement(r.Label,{htmlFor:"password"},"Password"),l.default.createElement(r.Input,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:p}),l.default.createElement(r.FormError,{error:null==w||null===(s=w.password)||void 0===s?void 0:s.message})),l.default.createElement(r.FormGroup,null,l.default.createElement(t.Controller,{control:h,name:"rememberMe",render:function(e){var t=e.onChange;e.onBlur;var a=e.value;return l.default.createElement(r.Checkbox,{active:a,onChange:t,title:"Keep me logged in"})}})),l.default.createElement(r.Button,{defaultRightIcon:!0,isLoading:d,onClick:b(i)},n),u)};i.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null};var c=function(e){var o,s,n=e.buttonText,u=e.extras,m=e.isLoading,i=e.onSubmit,c=e.schema,f=t.useForm({resolver:a.yupResolver(c||d),defaultValues:{rememberMe:!1}}),p=f.register,b=f.handleSubmit,w=f.errors;return l.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:b(i)},l.default.createElement(r.FormGroup,null,l.default.createElement(r.Label,{htmlFor:"password"},"Password"),l.default.createElement(r.Input,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:p}),l.default.createElement(r.FormError,{error:null==w||null===(o=w.password)||void 0===o?void 0:o.message})),l.default.createElement(r.FormGroup,null,l.default.createElement(r.Label,{htmlFor:"confirmPassword"},"Re-enter Password"),l.default.createElement(r.Input,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:p}),l.default.createElement(r.FormError,{error:null==w||null===(s=w.confirmPassword)||void 0===s?void 0:s.message})),l.default.createElement(r.Button,{defaultRightIcon:!0,isLoading:m,onClick:b(i)},n),u)};c.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null},exports.LoginForm=i,exports.PasswordForm=c,exports.loginSchema=m,exports.passwordSchema=d;
