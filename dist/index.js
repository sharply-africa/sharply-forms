"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("skylos-ui"),t=require("react-hook-form"),l=require("@hookform/resolvers/yup"),n=require("yup");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var l=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,l.get?l:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var d=a(e),u=o(n),i=u.object().shape({password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:u.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([u.ref("password"),null],"Password and confirm password must match")}),m=u.object().shape({username:u.string().required("Email address or phone number is required"),password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:u.boolean().required()});function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,l)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var f=function(e){var r=e.isAdmin,t=e.requiredSender;return u.object().shape(p({allowDescription:u.boolean(),chargeRecipient:u.boolean(),customer:u.string(),description:u.string(),items:u.array().min(1,"Please enter at least one item").required("Item(s) are required"),recipient:u.object().shape({address:u.string().required("Address is required"),email:u.string().email("Email is invalid"),name:u.string().required("Name is required"),phoneNumber:u.string().required("Phone number is required")}),sender:u.object().shape(p({address:u.string().required("Address is required"),email:u.string().email("Email is invalid")},t?{name:u.string().required("Name is required"),phoneNumber:u.string().required("Phone number is required")}:{name:u.string(),phoneNumber:u.string()}))},r?{deliveryFee:u.string().required("Delivery amount is required"),rider:u.string().required("Please select rider")}:{}))},E=function(e){var n,a,o,u,i,m,s,c,p,E,v,h,b,g,F,y,w,S,C,L=e.buttonText,N=e.isLoading,P=e.onSubmit,R=e.riders,T=e.schema,q=t.useForm({resolver:l.yupResolver(T||f({isAdmin:!0,requiredSender:!0})),defaultValues:{allowDescription:!1,chargeRecipient:!1,customer:"sender",items:[],rider:""}}),G=q.register,x=q.handleSubmit,I=q.errors,k=q.control,O=(0,q.watch)("allowDescription");return d.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:x(P)},d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"sender.name"},"Senders Name"),d.default.createElement(r.Input,{id:"sender.name",name:"sender.name",placeholder:"Type name",ref:G}),d.default.createElement(r.FormError,{error:null==I||null===(n=I.sender)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"sender.phoneNumber"},"Senders number"),d.default.createElement(r.Input,{id:"sender.phoneNumber",name:"sender.phoneNumber",placeholder:"+234",ref:G}),d.default.createElement(r.FormError,{error:null==I||null===(o=I.sender)||void 0===o||null===(u=o.phoneNumber)||void 0===u?void 0:u.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"sender.email"},"Senders Email"),d.default.createElement(r.Input,{id:"sender.email",name:"sender.email",placeholder:"Type Email Address (Optional)",ref:G}),d.default.createElement(r.FormError,{error:null==I||null===(i=I.sender)||void 0===i||null===(m=i.email)||void 0===m?void 0:m.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"sender.address"},"Pick Up Address"),d.default.createElement(r.Input,{id:"sender.address",name:"sender.address",placeholder:"Type Address",ref:G}),d.default.createElement(r.FormError,{error:null==I||null===(s=I.sender)||void 0===s||null===(c=s.address)||void 0===c?void 0:c.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"recipient.address"},"Receiver Address"),d.default.createElement(r.Input,{id:"recipient.address",name:"recipient.address",placeholder:"Type Address",ref:G}),d.default.createElement(r.FormError,{error:null==I||null===(p=I.recipient)||void 0===p||null===(E=p.address)||void 0===E?void 0:E.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"items"},"Item(s)"),d.default.createElement(t.Controller,{control:k,name:"items",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.TagsInput,{inputProps:{placeholder:"Type and press enter"},value:l,onChange:t})}}),d.default.createElement(r.FormError,{error:null==I||null===(v=I.items)||void 0===v?void 0:v.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(t.Controller,{control:k,name:"allowDescription",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.Checkbox,{active:l,onChange:t,title:"Allow Description"})}})),O?d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"description"},"Description"),d.default.createElement(r.Textarea,{id:"description",name:"description",placeholder:"Type Name",ref:G,required:!0}),d.default.createElement(r.FormError,{error:null==I||null===(h=I.description)||void 0===h?void 0:h.message})):null,d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"recipient.name"},"Receiver Name"),d.default.createElement(r.Input,{id:"recipient.name",name:"recipient.name",placeholder:"Type Name",ref:G}),d.default.createElement(r.FormError,{error:null==I||null===(b=I.recipient)||void 0===b||null===(g=b.name)||void 0===g?void 0:g.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"recipient.phoneNumber"},"Receiver Number"),d.default.createElement(r.Input,{id:"recipient.phoneNumber",name:"recipient.phoneNumber",placeholder:"+234",ref:G}),d.default.createElement(r.FormError,{error:null==I||null===(F=I.recipient)||void 0===F||null===(y=F.phoneNumber)||void 0===y?void 0:y.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"deliveryFee"},"Delivery Amount"),d.default.createElement(r.Input,{id:"deliveryFee",name:"deliveryFee",placeholder:"NGN",ref:G}),d.default.createElement(r.FormError,{error:null==I||null===(w=I.deliveryFee)||void 0===w?void 0:w.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(t.Controller,{control:k,name:"chargeRecipient",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.Switch,{active:l,onChange:t,title:"The Receiver will be paying for delivery"})}})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"rider"},"Assign Rider"),d.default.createElement(r.Select,{id:"rider",name:"rider",placeholder:"Type your email address or Phone Number",ref:G},d.default.createElement("option",{value:"",disabled:!0},"Select Option"),null==R?void 0:R.map((function(e){return d.default.createElement("option",{key:e.id,value:e.id},e.name)}))),d.default.createElement(r.FormError,{error:null==I||null===(S=I.rider)||void 0===S?void 0:S.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(t.Controller,{control:k,name:"customer",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.Stack,{spacing:6},d.default.createElement(r.Radio,{active:"sender"===l,onClick:function(){return t("sender")},subtitle:"Request was made by the sender",title:"Save sender’s details"}),d.default.createElement(r.Radio,{active:"receiver"===l,onClick:function(){return t("receiver")},subtitle:"Request was made by the receiver",title:"Save receiver’s details"}))}}),d.default.createElement(r.FormError,{error:null==I||null===(C=I.customer)||void 0===C?void 0:C.message})),d.default.createElement(r.Button,{defaultRightIcon:!0,isLoading:N,onClick:x(P)},L))};E.defaultProps={buttonText:"Submit Request",isLoading:!1,onSubmit:function(){},riders:[],schema:null};var v=function(e){var n,a,o,u,i,m,s,c,p,E,v,h,b,g=e.buttonText,F=e.isLoading,y=e.onSubmit,w=e.riders,S=e.schema,C="admin"===e.type,L=t.useForm({resolver:l.yupResolver(S||f({isAdmin:C,requiredSender:!1})),defaultValues:{allowDescription:!1,chargeRecipient:!1,customer:"sender",items:[],rider:""}}),N=L.register,P=L.handleSubmit,R=L.errors,T=L.control,q=(0,L.watch)("allowDescription");return d.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:P(y)},d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"customer"},C?"Customer is the?":"You are the?"),d.default.createElement(t.Controller,{control:T,name:"customer",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.Stack,{direction:"row",spacing:4},d.default.createElement(r.Card,{onClick:function(){return t("sender")},sx:{boxShadow:"none"}},d.default.createElement(r.Radio,{title:"Sender",active:"sender"===l})),d.default.createElement(r.Card,{onClick:function(){return t("receiver")},sx:{boxShadow:"none"}},d.default.createElement(r.Radio,{active:"receiver"===l,title:"Receiver"})))}}),d.default.createElement(r.FormError,{error:null==R||null===(n=R.customer)||void 0===n?void 0:n.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"sender.address"},"Pick Up Address"),d.default.createElement(r.Input,{id:"sender.address",name:"sender.address",placeholder:"Type Address",ref:N}),d.default.createElement(r.FormError,{error:null==R||null===(a=R.sender)||void 0===a||null===(o=a.address)||void 0===o?void 0:o.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"recipient.address"},"Receiver Address"),d.default.createElement(r.Input,{id:"recipient.address",name:"recipient.address",placeholder:"Type Address",ref:N}),d.default.createElement(r.FormError,{error:null==R||null===(u=R.recipient)||void 0===u||null===(i=u.address)||void 0===i?void 0:i.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"items"},"Item(s)"),d.default.createElement(t.Controller,{control:T,name:"items",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.TagsInput,{inputProps:{placeholder:"Type and press enter"},value:l,onChange:t})}}),d.default.createElement(r.FormError,{error:null==R||null===(m=R.items)||void 0===m?void 0:m.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(t.Controller,{control:T,name:"allowDescription",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.Checkbox,{active:l,onChange:t,title:"Allow Description"})}})),q?d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"description"},"Description"),d.default.createElement(r.Textarea,{id:"description",name:"description",placeholder:"Type Name",ref:N,required:!0}),d.default.createElement(r.FormError,{error:null==R||null===(s=R.description)||void 0===s?void 0:s.message})):null,d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"recipient.name"},"Receiver Name"),d.default.createElement(r.Input,{id:"recipient.name",name:"recipient.name",placeholder:"Type Name",ref:N}),d.default.createElement(r.FormError,{error:null==R||null===(c=R.recipient)||void 0===c||null===(p=c.name)||void 0===p?void 0:p.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"recipient.phoneNumber"},"Receiver Number"),d.default.createElement(r.Input,{id:"recipient.phoneNumber",name:"recipient.phoneNumber",placeholder:"+234",ref:N}),d.default.createElement(r.FormError,{error:null==R||null===(E=R.recipient)||void 0===E||null===(v=E.phoneNumber)||void 0===v?void 0:v.message})),C?d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"deliveryFee"},"Delivery Amount"),d.default.createElement(r.Input,{id:"deliveryFee",name:"deliveryFee",placeholder:"NGN",ref:N}),d.default.createElement(r.FormError,{error:null==R||null===(h=R.deliveryFee)||void 0===h?void 0:h.message})):null,d.default.createElement(r.FormGroup,null,d.default.createElement(t.Controller,{control:T,name:"chargeRecipient",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.Switch,{active:l,onChange:t,title:"The Receiver will be paying for delivery"})}})),C?d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"rider"},"Assign Rider"),d.default.createElement(r.Select,{id:"rider",name:"rider",placeholder:"Type your email address or Phone Number",ref:N},d.default.createElement("option",{value:"",disabled:!0},"Select Option"),null==w?void 0:w.map((function(e){return d.default.createElement("option",{key:e.id,value:e.id},e.name)}))),d.default.createElement(r.FormError,{error:null==R||null===(b=R.rider)||void 0===b?void 0:b.message})):d.default.createElement(r.Card,null,d.default.createElement(r.Text,null,"Request Submited will have to be accepted and an estimate will be sent")),d.default.createElement(r.Button,{defaultRightIcon:!0,isLoading:F,onClick:P(y)},g))};v.defaultProps={buttonText:"Submit Request",isLoading:!1,onSubmit:function(){},riders:[],schema:null,type:"client"};var h=function(e){var n,a,o,u,i,m,s,c,p,E,v,h,b,g,F,y,w,S=e.buttonText,C=e.isLoading,L=e.onSubmit,N=e.schema,P=t.useForm({resolver:l.yupResolver(N||f({isAdmin:!1,requiredSender:!0})),defaultValues:{allowDescription:!1,chargeRecipient:!1,customer:"sender",items:[]}}),R=P.register,T=P.handleSubmit,q=P.errors,G=P.control,x=(0,P.watch)("allowDescription");return d.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:T(L)},d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"customer"},"You are the?"),d.default.createElement(t.Controller,{control:G,name:"customer",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.Stack,{direction:"row",spacing:4},d.default.createElement(r.Card,{onClick:function(){return t("sender")},sx:{boxShadow:"none"}},d.default.createElement(r.Radio,{title:"Sender",active:"sender"===l})),d.default.createElement(r.Card,{onClick:function(){return t("receiver")},sx:{boxShadow:"none"}},d.default.createElement(r.Radio,{active:"receiver"===l,title:"Receiver"})))}}),d.default.createElement(r.FormError,{error:null==q||null===(n=q.customer)||void 0===n?void 0:n.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"sender.name"},"Senders Name"),d.default.createElement(r.Input,{id:"sender.name",name:"sender.name",placeholder:"Type name",ref:R}),d.default.createElement(r.FormError,{error:null==q||null===(a=q.sender)||void 0===a||null===(o=a.name)||void 0===o?void 0:o.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"sender.phoneNumber"},"Senders number"),d.default.createElement(r.Input,{id:"sender.phoneNumber",name:"sender.phoneNumber",placeholder:"+234",ref:R}),d.default.createElement(r.FormError,{error:null==q||null===(u=q.sender)||void 0===u||null===(i=u.phoneNumber)||void 0===i?void 0:i.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"sender.email"},"Senders Email"),d.default.createElement(r.Input,{id:"sender.email",name:"sender.email",placeholder:"Type Email Address (Optional)",ref:R}),d.default.createElement(r.FormError,{error:null==q||null===(m=q.sender)||void 0===m||null===(s=m.email)||void 0===s?void 0:s.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"sender.address"},"Pick Up Address"),d.default.createElement(r.Input,{id:"sender.address",name:"sender.address",placeholder:"Type Address",ref:R}),d.default.createElement(r.FormError,{error:null==q||null===(c=q.sender)||void 0===c||null===(p=c.address)||void 0===p?void 0:p.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"recipient.address"},"Receiver Address"),d.default.createElement(r.Input,{id:"recipient.address",name:"recipient.address",placeholder:"Type Address",ref:R}),d.default.createElement(r.FormError,{error:null==q||null===(E=q.recipient)||void 0===E||null===(v=E.address)||void 0===v?void 0:v.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"items"},"Item(s)"),d.default.createElement(t.Controller,{control:G,name:"items",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.TagsInput,{inputProps:{placeholder:"Type and press enter"},value:l,onChange:t})}}),d.default.createElement(r.FormError,{error:null==q||null===(h=q.items)||void 0===h?void 0:h.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(t.Controller,{control:G,name:"allowDescription",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.Checkbox,{active:l,onChange:t,title:"Allow Description"})}})),x?d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"description"},"Description"),d.default.createElement(r.Textarea,{id:"description",name:"description",placeholder:"Type Name",ref:R,required:!0}),d.default.createElement(r.FormError,{error:null==q||null===(b=q.description)||void 0===b?void 0:b.message})):null,d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"recipient.name"},"Receiver Name"),d.default.createElement(r.Input,{id:"recipient.name",name:"recipient.name",placeholder:"Type Name",ref:R}),d.default.createElement(r.FormError,{error:null==q||null===(g=q.recipient)||void 0===g||null===(F=g.name)||void 0===F?void 0:F.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"recipient.phoneNumber"},"Receiver Number"),d.default.createElement(r.Input,{id:"recipient.phoneNumber",name:"recipient.phoneNumber",placeholder:"+234",ref:R}),d.default.createElement(r.FormError,{error:null==q||null===(y=q.recipient)||void 0===y||null===(w=y.phoneNumber)||void 0===w?void 0:w.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(t.Controller,{control:G,name:"chargeRecipient",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.Switch,{active:l,onChange:t,title:"The Receiver will be paying for delivery"})}})),d.default.createElement(r.Card,null,d.default.createElement(r.Text,null,"Request Submited will have to be accepted and an estimate will be sent")),d.default.createElement(r.Button,{defaultRightIcon:!0,isLoading:C,onClick:T(L)},S))};h.defaultProps={buttonText:"Submit Request",extras:null,isLoading:!1,onSubmit:function(){},type:"client",schema:null};var b=function(e){var n,a,o=e.buttonText,u=e.extras,i=e.isLoading,s=e.onSubmit,c=e.schema,p=t.useForm({resolver:l.yupResolver(c||m),defaultValues:{rememberMe:!1}}),f=p.register,E=p.handleSubmit,v=p.errors,h=p.control;return d.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:E(s)},d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"username"},"Email Address or Phone Number"),d.default.createElement(r.Input,{id:"username",name:"username",placeholder:"Type your email address or Phone Number",ref:f}),d.default.createElement(r.FormError,{error:null==v||null===(n=v.username)||void 0===n?void 0:n.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"password"},"Password"),d.default.createElement(r.Input,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:f}),d.default.createElement(r.FormError,{error:null==v||null===(a=v.password)||void 0===a?void 0:a.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(t.Controller,{control:h,name:"rememberMe",render:function(e){var t=e.onChange,l=e.value;return d.default.createElement(r.Checkbox,{active:l,onChange:t,title:"Keep me logged in"})}})),d.default.createElement(r.Button,{defaultRightIcon:!0,isLoading:i,onClick:E(s)},o),u)};b.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null};var g=function(e){var n,a,o=e.buttonText,u=e.extras,m=e.isLoading,s=e.onSubmit,c=e.schema,p=t.useForm({resolver:l.yupResolver(c||i),defaultValues:{rememberMe:!1}}),f=p.register,E=p.handleSubmit,v=p.errors;return d.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:E(s)},d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"password"},"Password"),d.default.createElement(r.Input,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:f}),d.default.createElement(r.FormError,{error:null==v||null===(n=v.password)||void 0===n?void 0:n.message})),d.default.createElement(r.FormGroup,null,d.default.createElement(r.Label,{htmlFor:"confirmPassword"},"Re-enter Password"),d.default.createElement(r.Input,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:f}),d.default.createElement(r.FormError,{error:null==v||null===(a=v.confirmPassword)||void 0===a?void 0:a.message})),d.default.createElement(r.Button,{defaultRightIcon:!0,isLoading:m,onClick:E(s)},o),u)};g.defaultProps={buttonText:"Login",extras:null,isLoading:!1,onSubmit:function(){},schema:null},exports.AdminOrderForm=E,exports.CustomerOrderForm=v,exports.GuestOrderForm=h,exports.LoginForm=b,exports.PasswordForm=g,exports.loginSchema=m,exports.orderSchema=f,exports.passwordSchema=i;
