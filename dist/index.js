"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("skylos-ui"),t=require("react-hook-form"),a=require("@hookform/resolvers/yup"),o=require("yup");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var n=l(e),u=s(o),d=u.object().shape({password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:u.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([u.ref("password"),null],"Password and confirm password must match")}),m=u.object().shape({email:u.string().email("Invalid email address").required("Email is required"),password:u.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:u.boolean().required()}),i=function(e){var o,l,s=e.buttonText,u=e.extras,d=e.onSubmit,i=e.schema,c=t.useForm({resolver:a.yupResolver(i||m),defaultValues:{rememberMe:!1}}),f=c.register,p=c.handleSubmit,b=c.errors,w=c.control;return n.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:p(d)},n.default.createElement(r.FormGroup,null,n.default.createElement(r.Label,{htmlFor:"email"},"Email Address or Phone Number"),n.default.createElement(r.Input,{id:"email",name:"email",placeholder:"Type your email address or Phone Number",ref:f}),n.default.createElement(r.FormError,{error:null==b||null===(o=b.email)||void 0===o?void 0:o.message})),n.default.createElement(r.FormGroup,null,n.default.createElement(r.Label,{htmlFor:"password"},"Password"),n.default.createElement(r.Input,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:f}),n.default.createElement(r.FormError,{error:null==b||null===(l=b.password)||void 0===l?void 0:l.message})),n.default.createElement(r.FormGroup,null,n.default.createElement(t.Controller,{control:w,name:"rememberMe",render:function(e){var t=e.onChange;e.onBlur;var a=e.value;return n.default.createElement(r.Checkbox,{active:a,onChange:t,title:"Keep me logged in"})}})),n.default.createElement(r.Button,{onClick:p(d),defaultRightIcon:!0},s),u)};i.defaultProps={buttonText:"Login",extras:null,onSubmit:function(){},schema:null};var c=function(e){var o,l,s=e.buttonText,u=e.extras,m=e.onSubmit,i=e.schema,c=t.useForm({resolver:a.yupResolver(i||d),defaultValues:{rememberMe:!1}}),f=c.register,p=c.handleSubmit,b=c.errors;return n.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:p(m)},n.default.createElement(r.FormGroup,null,n.default.createElement(r.Label,{htmlFor:"password"},"Password"),n.default.createElement(r.Input,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:f}),n.default.createElement(r.FormError,{error:null==b||null===(o=b.password)||void 0===o?void 0:o.message})),n.default.createElement(r.FormGroup,null,n.default.createElement(r.Label,{htmlFor:"confirmPassword"},"Re-enter Password"),n.default.createElement(r.Input,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:f}),n.default.createElement(r.FormError,{error:null==b||null===(l=b.confirmPassword)||void 0===l?void 0:l.message})),n.default.createElement(r.Button,{onClick:p(m),defaultRightIcon:!0},s),u)};c.defaultProps={buttonText:"Login",extras:null,onSubmit:function(){},schema:null},exports.LoginForm=i,exports.PasswordForm=c,exports.loginSchema=m,exports.passwordSchema=d;
