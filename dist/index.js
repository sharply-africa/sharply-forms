"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("skylos-ui"),t=require("react-hook-form"),a=require("@hookform/resolvers/yup"),o=require("schemas"),l=require("yup");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var u=s(e),d=n(l),m=function(e){var l,s,n=e.buttonText,d=e.extras,m=e.onSubmit,i=e.schema,c=t.useForm({resolver:a.yupResolver(i||o.loginSchema),defaultValues:{rememberMe:!1}}),f=c.register,p=c.handleSubmit,b=c.errors,w=c.control;return u.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:p(m)},u.default.createElement(r.FormGroup,null,u.default.createElement(r.Label,{htmlFor:"email"},"Email Address or Phone Number"),u.default.createElement(r.Input,{id:"email",name:"email",placeholder:"Type your email address or Phone Number",ref:f}),u.default.createElement(r.FormError,{error:null==b||null===(l=b.email)||void 0===l?void 0:l.message})),u.default.createElement(r.FormGroup,null,u.default.createElement(r.Label,{htmlFor:"password"},"Password"),u.default.createElement(r.Input,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:f}),u.default.createElement(r.FormError,{error:null==b||null===(s=b.password)||void 0===s?void 0:s.message})),u.default.createElement(r.FormGroup,null,u.default.createElement(t.Controller,{control:w,name:"rememberMe",render:function(e){var t=e.onChange;e.onBlur;var a=e.value;return u.default.createElement(r.Checkbox,{active:a,onChange:t,title:"Keep me logged in"})}})),u.default.createElement(r.Button,{onClick:p(m),defaultRightIcon:!0},n),d)};m.defaultProps={buttonText:"Login",extras:null,onSubmit:function(){},schema:null};var i=function(e){var l,s,n=e.buttonText,d=e.extras,m=e.onSubmit,i=e.schema,c=t.useForm({resolver:a.yupResolver(i||o.passwordSchema),defaultValues:{rememberMe:!1}}),f=c.register,p=c.handleSubmit,b=c.errors;return u.default.createElement(r.Stack,{as:"form",spacing:6,onSubmit:p(m)},u.default.createElement(r.FormGroup,null,u.default.createElement(r.Label,{htmlFor:"password"},"Password"),u.default.createElement(r.Input,{id:"password",placeholder:"Type your password",type:"password",name:"password",ref:f}),u.default.createElement(r.FormError,{error:null==b||null===(l=b.password)||void 0===l?void 0:l.message})),u.default.createElement(r.FormGroup,null,u.default.createElement(r.Label,{htmlFor:"confirmPassword"},"Re-enter Password"),u.default.createElement(r.Input,{id:"confirmPassword",placeholder:"Type your password",type:"password",name:"confirmPassword",ref:f}),u.default.createElement(r.FormError,{error:null==b||null===(s=b.confirmPassword)||void 0===s?void 0:s.message})),u.default.createElement(r.Button,{onClick:p(m),defaultRightIcon:!0},n),d)};i.defaultProps={buttonText:"Login",extras:null,onSubmit:function(){},schema:null};var c=d.object().shape({password:d.string().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:d.string().min(8,"Password must be at least 8 characters").required("Password is required").oneOf([d.ref("password"),null],"Password and confirm password must match")}),f=d.object().shape({email:d.string().email("Invalid email address").required("Email is required"),password:d.string().min(8,"Password must be at least 8 characters").required("Password is required"),rememberMe:d.boolean().required()});exports.LoginForm=m,exports.PasswordForm=i,exports.loginSchema=f,exports.passwordSchema=c;
